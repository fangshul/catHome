(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/personalCenter/personalCenter"],{"24b3":function(n,e,t){"use strict";t.r(e);var a=t("5047"),i=t.n(a);for(var o in a)"default"!==o&&function(n){t.d(e,n,(function(){return a[n]}))}(o);e["default"]=i.a},5047:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a,i=o(t("a34a"));function o(n){return n&&n.__esModule?n:{default:n}}function r(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function c(n,e,t,a,i,o,r){try{var c=n[o](r),u=c.value}catch(s){return void t(s)}c.done?e(u):Promise.resolve(u).then(a,i)}function u(n){return function(){var e=this,t=arguments;return new Promise((function(a,i){var o=n.apply(e,t);function r(n){c(o,a,i,r,u,"next",n)}function u(n){c(o,a,i,r,u,"throw",n)}r(void 0)}))}}var s=wx.cloud.database(),f=s.collection("adopt"),l=s.collection("findCat"),d=s.collection("forum"),p=(a={data:function(){return{load:!0,ifadopt:!0,iffindcat:!1,ifforum:!1,adoptinfo:"",findCatinfo:"",foruminfo:"",id:"",nickname:"",headImg:"https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fn.sinaimg.cn%2Fsinacn11%2F600%2Fw700h700%2F20180424%2F514b-fzqvvsa3694420.jpg&refer=http%3A%2F%2Fn.sinaimg.cn&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=jpeg?sec=1622959077&t=b701606d5bdedcef64ca889f3d23acd0",status:[{key:1,name:"领养",url:"../../static/images/personal/adopt.png"},{key:2,name:"寻猫",url:"../../static/images/personal/findcat.png"},{key:3,name:"讨论",url:"../../static/images/personal/message.png"}],menus:[{name:"消息",icon:"../../static/images/personal/feedback.png",key:1,nexturl:"../Message/Message"},{name:"关于我们",icon:"../../static/images/personal/about.png",key:6,nexturl:"../Message/Message"}]}},onShow:function(){},methods:{getimgurl:function(){var n=this;return u(i.default.mark((function e(){var t,a;return i.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=0;case 1:if(!(t<n.adoptinfo.length)){e.next=11;break}return e.next=4,wx.cloud.downloadFile({fileID:n.adoptinfo[t].imgList[0]});case 4:a=e.sent,console.log(a.tempFilePath),n.adoptinfo[t].headImg=a.tempFilePath,n.$forceUpdate();case 8:t++,e.next=1;break;case 11:console.log(n.adoptinfo),n.load=!1;case 13:case"end":return e.stop()}}),e)})))()},getdata:function(n){console.log("key",n),0==n?(this.ifadopt=!0,this.iffindcat=!1,this.ifforum=!1,this.getadopt()):1==n?(this.ifadopt=!1,this.iffindcat=!0,this.ifforum=!1):2==n&&(this.ifadopt=!1,this.iffindcat=!1,this.ifforum=!0)},getadopt:function(){var n=this;return u(i.default.mark((function e(){var t;return i.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n.load=!0,e.next=3,f.where({_openid:n.id}).get();case 3:t=e.sent,n.adoptinfo=t.data,console.log("adopt",n.adoptinfo),n.getimgurl();case 7:case"end":return e.stop()}}),e)})))()},getfindcat:function(){var n=this;return u(i.default.mark((function e(){var t;return i.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l.where({_openid:n.id}).get();case 2:t=e.sent,n.findCatinfo=t,console.log(t);case 5:case"end":return e.stop()}}),e)})))()},getforum:function(){var n=this;return u(i.default.mark((function e(){var t;return i.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,d.where({_openid:n.id}).get();case 2:t=e.sent,n.foruminfo=t,console.log(t);case 5:case"end":return e.stop()}}),e)})))()}},onLoad:function(n){var e=this;this.id=n.id,console.log(n),s.collection("user").doc(this.id).get({}).then((function(n){console.log("userinfo",n),e.headImg=n.data.avatarUrl,e.nickname=n.data.name}))}},r(a,"onShow",(function(){})),r(a,"computed",{}),a);e.default=p},"5ef5":function(n,e,t){},"8e80":function(n,e,t){"use strict";t.d(e,"b",(function(){return i})),t.d(e,"c",(function(){return o})),t.d(e,"a",(function(){return a}));var a={uniList:function(){return t.e("components/uni-list/uni-list").then(t.bind(null,"7b53"))},uniListChat:function(){return t.e("components/uni-list-chat/uni-list-chat").then(t.bind(null,"8b53"))},clLoadingMask:function(){return t.e("cl-uni/components/cl-loading-mask/cl-loading-mask").then(t.bind(null,"f1a3"))}},i=function(){var n=this,e=n.$createElement,t=(n._self._c,n.ifforum?n.__map(n.foruminfo,(function(e,t){var a=n.__get_orig(e),i=e.date.getMonth(),o=e.date.getDate();return{$orig:a,g0:i,g1:o}})):null);n.$mp.data=Object.assign({},{$root:{l0:t}})},o=[]},bd33:function(n,e,t){"use strict";t.r(e);var a=t("8e80"),i=t("24b3");for(var o in i)"default"!==o&&function(n){t.d(e,n,(function(){return i[n]}))}(o);t("cfe0");var r,c=t("f0c5"),u=Object(c["a"])(i["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],r);e["default"]=u.exports},c5c4:function(n,e,t){"use strict";(function(n){t("8df7");a(t("66fd"));var e=a(t("bd33"));function a(n){return n&&n.__esModule?n:{default:n}}n(e.default)}).call(this,t("543d")["createPage"])},cfe0:function(n,e,t){"use strict";var a=t("5ef5"),i=t.n(a);i.a}},[["c5c4","common/runtime","common/vendor"]]]);