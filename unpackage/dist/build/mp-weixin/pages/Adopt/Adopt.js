(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/Adopt/Adopt"],{"32b3":function(e,t,n){"use strict";var a=n("c8db"),o=n.n(a);o.a},"410d":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(n("a34a"));function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n,a,o,r,c){try{var u=e[r](c),i=u.value}catch(l){return void n(l)}u.done?t(i):Promise.resolve(i).then(a,o)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(a,o){var c=e.apply(t,n);function u(e){r(c,a,o,u,i,"next",e)}function i(e){r(c,a,o,u,i,"throw",e)}u(void 0)}))}}var u=wx.cloud.database(),i=u.collection("adopt"),l=function(){Promise.all([n.e("common/vendor"),n.e("components/selector/selector")]).then(function(){return resolve(n("50a9"))}.bind(null,n)).catch(n.oe)},d={components:{selector:l},data:function(){return{isCard:!1,adoptdata:"",ifloading:!0}},onShow:function(){this.getdata()},methods:{changeType:function(e){var t=this;return c(a.default.mark((function n(){var o,r,c,u,l;return a.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(console.log("fa",e.value),t.ifloading=!0,"type"!=e.prop){n.next=11;break}return console.log("种类"),n.next=6,i.orderBy("date","desc").where({petType:e.value}).get({});case 6:o=n.sent,t.adoptdata=o.data,t.getimgurl(),n.next=31;break;case 11:if("sex"!=e.prop){n.next=20;break}return console.log("xbie"),n.next=15,i.orderBy("date","desc").where({petSex:e.value}).get({});case 15:r=n.sent,t.adoptdata=r.data,t.getimgurl(),n.next=31;break;case 20:if("rank"!=e.prop){n.next=31;break}for(console.log("xinxi"),c={},u=0;u<e.value.length;u++)1==e.value[u]?c.sterilization=!0:2==e.value[u]?c.expellingParasite=!0:c.vaccine=!0;return console.log(c),n.next=27,i.orderBy("date","desc").where(c).get({});case 27:l=n.sent,t.adoptdata=l.data,t.getimgurl(),console.log(l);case 31:case"end":return n.stop()}}),n)})))()},changeLocation:function(e){var t=this;return c(a.default.mark((function n(){var o;return a.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.ifloading=!0,console.log("father",e),n.next=4,i.orderBy("date","desc").where({adoptLocation:e}).get({});case 4:o=n.sent,t.adoptdata=o.data,t.getimgurl();case 7:case"end":return n.stop()}}),n)})))()},IsCard:function(e){this.isCard=e.detail.value},getdata:function(){var t=this;return c(a.default.mark((function n(){var o,r;return a.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return o=e.getStorageSync("location"),n.next=3,i.orderBy("date","desc").where({adoptLocation:o}).get({});case 3:r=n.sent,console.log(r),t.adoptdata=r.data,t.getimgurl();case 7:case"end":return n.stop()}}),n)})))()},getimgurl:function(){var e=this;return c(a.default.mark((function t(){var n,o;return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=0;case 1:if(!(n<e.adoptdata.length)){t.next=11;break}return t.next=4,wx.cloud.downloadFile({fileID:e.adoptdata[n].imgList[0]});case 4:o=t.sent,console.log(o.tempFilePath),e.adoptdata[n].headImg=o.tempFilePath,e.$forceUpdate();case 8:n++,t.next=1;break;case 11:console.log(e.adoptdata),e.ifloading=!1;case 13:case"end":return t.stop()}}),t)})))()}}};t.default=d}).call(this,n("543d")["default"])},5786:function(e,t,n){"use strict";(function(e){n("8df7");a(n("66fd"));var t=a(n("9bef"));function a(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("543d")["createPage"])},"9bef":function(e,t,n){"use strict";n.r(t);var a=n("f40c"),o=n("cb3d");for(var r in o)"default"!==r&&function(e){n.d(t,e,(function(){return o[e]}))}(r);n("32b3");var c,u=n("f0c5"),i=Object(u["a"])(o["default"],a["b"],a["c"],!1,null,"42c6e184",null,!1,a["a"],c);t["default"]=i.exports},c8db:function(e,t,n){},cb3d:function(e,t,n){"use strict";n.r(t);var a=n("410d"),o=n.n(a);for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);t["default"]=o.a},f40c:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return a}));var a={clLoadingMask:function(){return n.e("cl-uni/components/cl-loading-mask/cl-loading-mask").then(n.bind(null,"f1a3"))},selector:function(){return Promise.all([n.e("common/vendor"),n.e("components/selector/selector")]).then(n.bind(null,"50a9"))}},o=function(){var e=this,t=e.$createElement;e._self._c},r=[]}},[["5786","common/runtime","common/vendor"]]]);